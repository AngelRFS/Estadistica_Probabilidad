---
title: "Tarean de Probabilidad"
author: "Flores Salazar Angel Rodrigo"
date: " r format(Sys, time(), %d, %B, %Y)"
output: 
  html_document:
    toc: true
    toc_float: true
    toc_depth: 3
    code_floding: show
    theme: bootstrap
  word_document: default
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Sesión 1

```{r}
17<5
17>5
17<=5
17>=5
17!=5
17==5
```


### Operadores Aritméticos Sums, Resta, Multiplicación, División, Potencia, Modulo, División Entera
```{r}
17+5
17*5
17*5
17^5
17%/%5
17%%5
```

### Logaritmos y exponenciales

```{r}
log(1)
log(12)
log(12,2)
exp(12)
exp(1)
```

### Funciones Trigonométicas

```{r}
sin(45)
cos(45)
tan(45)
asin(0.96)
acos(0.97)
atan(0.45)
```

### Funciones varias

```{r}
abs(-34)
sqrt(8)
floor(1.56)
ceiling(1.56)
max(4,7,2,12)
min(4,7,2,12)
sign(-45)
```
### Ejercicios de práctica

1. calcular la expresion cos(pi/6+pi/2)+e^2
2 calcular la expresion cos(pi/6+pi/2)+e^2*log(5)+arc cos(1/raiz(2))
3 introducir las siguientes expresiones: 
 a) 1/7
 b) options(digits=3); 1/7
 c) options(digits=6); 1/7
 d) round(67.45)
 e) round(75.324568,2)
 f) options(digits=7);
 g) signif(56.345458234234,2)
 h) signif(56.345458234234)
 i) exp(-30)
 j) options(scipen= 999)
 k) exp(-30)
 l) options(scipen=0)
 
 ---
title: "Ejercicios de práctica"
author: "Tu Nombre"
date: "`r format(Sys.Date(), '%d de %B de %Y')`"
output: html_document
---

### Introduccion 1
Calcular:
```{r}
cos(pi/6 + pi/2) + exp(2)
```

### Introduccion 2
```{r}
cos(pi/6 + pi/2) + exp(2)*log(5) + acos(1/sqrt(2))
```

### Ejercicio a
```{r}
1/7
```

### Ejercicio b
```{r}
options(digits = 3)
1/7
```

### Ejercicio c
```{r}
options(digits = 6)
1/7
```

### Ejercicio d
```{r}
round(67.45)
```

### Ejercicio e
```{r}
round(75.324568, 2)
```

### Ejercicio f
```{r}
options(digits = 7)
```

### Ejercicio g
```{r}
signif(56.345458234234, 2)
```

### Ejercicio h
```{r}
signif(56.345458234234)
```

### Ejercicio i
```{r}
exp(-30)
```

### Ejercicio j
```{r}
options(scipen = 999)
```

### Ejercicio k
```{r}
exp(-30)
```

### Ejercicio l
```{r}
options(scipen = 0)
```

## Sesión 2

### Definición de constantes

```{r}
# Definimos nuevas constantes
pi_val <- pi
y <- 0.075
k <- log(10)
y0 <- exp(k * y)
```

### Concatenar y pegar expresiones
```{r}
txt <- "El valor de y0 es:"
cat(txt, y0, "\n")
paste(txt, y0)
paste0(txt, y0)
```

### Asignación e impresión
```{r}
y0 <- 2
y1 <- y0^2 - sqrt(y0) + 5
(y1 <- y0^2 - sqrt(y0) + 5)
print(y1)
```

### Listado de objetos definidos
```{r}
ls()
```

### Imprimir pegar avanzado
```{r}
rm(list = ls())
ls()
```

```{r}
y0 <- 3
y1 <- y0^3 + sin(y0)
cat("y0 =", y0, "\n", "y1 =", y1)
```


## Sesión 3

### Definición de funciones
nombre_funcion <- function(param1,param2,param3,...,paramn){
 instruccion 1
 instruccion 2
 return(valor_de_retorno)
}


Ejemplo 1

```{r}
fun1 <- function(x,a,b,h,k){
  res <- a+b*cos(hx+k)
  return(res)
}
```

Ejemplo 2

```{r}
Discriminante <- function(a,b,c){
  res <- b^2-4*a*c
  return(res)
}
```

#### Gráficas en R

```{r, echo=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
```

Primero limpiamos nuestro ambiente, eliminamos variables y cerramos las gráficas generadas con anterioridad.

```{r, echo=FALSE}
rm(list = ls())
dev.off()
```

Generemos los datos correspondientes a los pesos registrados de 90 personas

```{r}
kgs <- c(100.5, 91.3, 60.4, 83.2, 49.6, 103.1, 60.3, 109.3, 83.5,
         63.9, 106, 50, 47, 89.7, 108.5, 78.9, 82.7, 60.7, 98.7, 85.2, 48.7, 106.7, 63.9, 84.1,
         69.5, 53.3, 108.9, 91.8, 108.6, 54.5, 95.1, 90.6, 115.9, 88.5, 67.7, 115.1, 108.3, 76.8,
         81.4, 102.6, 63.9, 105.9, 106.7, 76.3, 113.7, 50.3, 105.8, 81.4, 67.9, 91.3, 68.9, 93.9,
         113.7, 87.7, 92.8, 76.2, 104.7, 109.7, 72.6, 81.6, 112.2, 79.8, 60.7, 95.7, 100.1, 94,
         60.5, 117.1, 45.5, 112.7, 51.7, 107.8, 86.6, 90.3, 105.9, 64.7, 48, 55.4, 52.9, 58.2,
         117.1, 59.6, 69.9, 96.9, 97, 66.5, 67.4, 77.2, 73.7, 113)
```

### Procesamiento de datos

Primero obtenemos un resumen de los datos generados

```{r}
summary(kgs)
```

Ordenamos los datos

```{r}
kgs_ord <- sort(kgs)
cte <- 9
```

Definimos un vector que nos servirá para calcular los deciles:

```{r}
indices <- 1:10; (indices)
t <- cte*indices; (t)
```

con base en lo anterior ahora podemos extraer los cuartiles

```{r}
mis_deciles <- kgs_ord[t]; (mis_deciles)
cuantiles <- quantile(kgs); (cuantiles)
Q1 <- cuantiles[2]; (Q1)
Q2 <- cuantiles[3]; (Q2)
Q3 <- cuantiles[4]; (Q3)
```

Calculemos la media, el valor máximo y el valor mínimo para los datos

```{r}
x_media <- mean(kgs)
mi_min <- min(kgs); 
mi_max <- max(kgs);
```

### Gráficas con el comando *plot*
Generemos una gráfica simple de los datos

```{r}
plot(kgs,main="Grafica de peso en kilogramos")
```

Ahora agreguemos detalles, etiquetas, título, colores, etc a la misma gráfica

```{r}
plot(
  kgs,
  main = "Gráfica de peso en kilogramos",
  xlab = "Índice del individuo",
  ylab = "Peso (kg)",
  col = "red",       
  pch = 19,           
  cex = 0.5,          
  cex.main = 1.5,     
  cex.lab = 1.2,      
  col.main = "darkblue")
legend(
  "topright",                  
  legend = c(mi_min,mi_max),    
  pch = 17,
  col=c("violet","yellow"),
  pt.cex = 1.5,               
  cex = 0.7,
  bty = "n"                    
)
abline(h = x_media, col = "red", lwd = 1, lty = 2)     
abline(h = Q2, col = "lightblue", lwd = 1, lty = 3) 
abline(h = mis_deciles, col = "lightgray", lty = 1.5)
points(which.min(kgs), min(kgs), col = "violet", pch = 17, cex = 1.5)
points(which.max(kgs), max(kgs), col = "yellow", pch = 17, cex = 1.5)
```

### Generación de *Histogramas*

Con la misma idea que la gráfica anterior, generemos un histograma de los mismos datos

```{r}
nbreaks=10;
miscolores <- rainbow(25,0.85);
h <- hist(kgs, breaks = nbreaks, col= miscolores, 
          main = 'Peso en kilos',
          xlab="Peso",
          ylab="Frecuencias")
text(h$mids, h$counts, labels = h$counts, pos = 3, cex = 0.4, 
     col = "black")
nl <- length(h$counts); 
legend(
  "topright",                  
  legend = h$counts,   
  fill = miscolores,
  col = miscolores,    
  pt.cex = 1.5,             
  cex = 0.7,
  bty = "n"                  
)
```



```{r}

h2 <- hist(kgs, breaks = nbreaks, col= miscolores, 
          main = 'Peso en kilos',
          xlab="Peso",
          ylab="Frecuencias",
          ylim=c(0,max(h$counts)*1.5))
text(h$mids, h$counts, labels = h$counts, pos = 3, cex = 0.8, 
     col = "black")
nl <- length(h$counts); 
legend(
  "topright",                
  legend = h$counts,    
  fill = miscolores,
  col = miscolores,    
  pt.cex = 1.5,                
  cex = 0.5,
  bty = "n"                  
)
```

### Histograma con porcentajes 

```{r}
h3 <- hist(kgs, 
           breaks = nbreaks, 
           col= miscolores, 
           main = 'Peso en kilos',
           xlab="Peso",
           ylab="Porcentaje",
           ylim=c(0,max(h$density)*1.5),
           probability=TRUE)
porcentajes <- h3$counts/sum(h3$counts)*100

text(h3$mids, 
     h3$density, 
     labels = paste0(round(porcentajes,1),"%"),
     pos = 3, 
     cex = 0.8, 
     col = "black")

nl <- length(h3$counts); (nl)
legend(
  "topright",                  
  legend = paste0(round(porcentajes,1),"%"),
  fill = miscolores,
  cex = 0.5,
  bty = "n"                    
)
```

### Gráficos de pastel 

```{r}
nbreaks <- 10
intervalos <- cut(kgs, breaks = nbreaks); (intervalos)
tabla <- table(intervalos); (tabla)
porcentajes <- round(prop.table(tabla) * 100, 1); (porcentajes)
pie(tabla,
    main = "Distribución de pesos (10 intervalos)",
    col = rainbow(length(tabla)),
    labels = paste0(porcentajes, "%"))
```

### Gráfica de Ojiva

```{r}
nbreaks <- 10
h <- hist(kgs, breaks = nbreaks, plot = FALSE)
freq_acum <- cumsum(h$counts) / sum(h$counts) * 100
x_vals <- h$breaks[-1]
plot(x_vals, freq_acum, type = "o",
     main = "Ojiva de pesos",
     xlab = "Peso (kg)",
     ylab = "Frecuencia acumulada (%)",
     col = "green", pch = 19, lwd = 2,
     ylim = c(0, 100))
abline(h = 100, col = "brown", lty = 2)
```

```{r}
nbreaks <- 10
h <- hist(kgs, breaks = nbreaks, plot = FALSE)
hist(kgs,
     breaks = nbreaks,
     col = "lightgreen",
     main = "Histograma y Ojiva (%)",
     xlab = "Peso (kg)",
     ylab = "Frecuencia")
freq_acum_pct <- cumsum(h$counts) / sum(h$counts) * 100
x_vals <- h$breaks[-1]
par(new = TRUE)
plot(x_vals, freq_acum_pct,
     type = "o", pch = 19, lwd = 2, col = "brown",
     axes = FALSE, xlab = "", ylab = "",
     xlim = range(h$breaks), ylim = c(0, 100))
axis(4)                           # eje derecho
#---- Fin ----
```
